package cputest;

import java.util.Scanner;

public class cpu {
	
	public static void main(String[] args) {
	int[] serviceTime = new int[5];
	int[] arrivalTime = new int[5];
	int[] startTime = new int [] {1,1,1,1,1};
	int[] endTime = new int[5];
	int[] initialWaitTime = new int[5];
	int[] totalWaitTime = new int[5];
	int[] iterationCounter = new int [5];
	int[] turnAroundTime = new int [5];
	int[] lastActivated = new int [5];
	int b = 0;
	int i = 0;
	int counter = 0;
	int contextswitch = 2;
	int quantum = 10;
	callLoop(serviceTime, arrivalTime);	
	System.out.println(serviceTime[0]);
	System.out.println(arrivalTime[0]);
	for (int endCount=0;endCount<5 ;i++) {
		int serv = arrivalTime[i];
		
		if (serviceTime[i] != -100 && counter >= serv ){
			totalWaitTime[i] += counter - lastActivated[i] ; 
			System.out.println(counter);
		
			if (startTime[i] == 1) {
				startTime[i] = counter;
		System.out.println(initialWaitTime[i] =  counter - arrivalTime[i]  );
			}
			if (serviceTime[i]>quantum) {
				serviceTime[i] += -quantum;
				counter+=quantum;
			}
			else {
				counter += serviceTime[i];
				serviceTime[i] = 0;
				System.out.println("less then ten");
			}
			System.out.println(counter);
			
			
			counter +=contextswitch;
		}
			
		if (serviceTime[i] == 0) {
			serviceTime[i] = -100;
			endCount ++;
			endTime[i] = counter;
			turnAroundTime[i] =  endTime[i]-startTime[i];
			
			}
		lastActivated[i] = counter;
		if(i==4) {
			i=-1;
			
		}
	}
	for (int c = 0; c <5; c++) {
		System.out.println("ID #1 Start Time "+startTime[c]+" End Time "+endTime[c]+" Initial Wait Time "+initialWaitTime[c]+" Total Wait Time "+ totalWaitTime[c]+" turnaroundTime "+turnAroundTime[c]);
	}
	
	//System.out.println(serviceTime[0]+" "+iterationCounter[0]+" "+startTime[0]+" "+initialWaitTime[0]+" "+endTime[0]);
	}
	public static void callLoop(int[] serviceTime,int[] arrivalTime) {
		int i = 0;
		while(i!=5) {
		Scanner one = new Scanner(System.in);
		System.out.println("Please enter the amount of service time required");
		int numA = one.nextInt();
		serviceTime[i] = numA;
		Scanner two = new Scanner(System.in);
		System.out.println("Please enter the arrival time of this process id");
		int numB = two.nextInt();
		arrivalTime[i] = numB;
		i++;
		}

		}
	public static int quantum(int[] serviceTime,int i, int counter) {
		if (serviceTime[i]<10) {
			counter += serviceTime[i];
			serviceTime[i] = 0 ;
		}
		else {
			serviceTime[i]+= -10;
			counter +=10;
			
		}
		return counter;
		
		
	}
	}


